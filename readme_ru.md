Yii Personal Messages
=====================

Модуль позволяет организовать в проекте систему личных сообщений.

Требования
----------
К yii проекту предъявляются следующие требования:

1. база данных на основе MySQL
2. идентификатор пользователя, используемый в проекте, представляет собой тип integer
3. наличие модели пользователя

Установка
---------

Для подключения модуля создайте в БД проекта таблицу со структурой, указанной в файле install.sql и отредактируйте конфигурацию вашего проекта:
~~~
[php]
'modules' => array(
    ...
    'pm' => array(
        'userClass' => 'User'; //Класс, представляющий модель пользователя
	'useridField' => 'id'; // поле в таблице пользователя, идентифицирующее пользователя
	'tableName' => 'pm'; // имя таблицы с персональными сообщениями
	'reallyDelete' => true; // удалять сообщения из базы
	'outgoingPageSize' => 10; // отправленных сообщений на страницу
	'incomingPageSize' => 10; // принятых сообщений на страницу
    )
)
~~~

При этом обязательны для указания 3 параметра:

1. `string userClass` - имя класса, используемого для модели пользователя. По умолчанию это `User`
2. `string useridField` - имя поля в классе пользователя, которое отвечает за id пользователя. По умолчанию `id`
3. `string tableName` - имя таблицы, установленной из файла install.sql, в которой будут храниться персональные сообщения.

Необязательные параметры:

1. `bool reallyDelete`. Сообщения в базе могут быть либо физически удалены при удалении их отправителем и получателем, либо только помечены как удаленные. Если параметр `reallyDelete` равен true, то сообщение удаляется из таблицы, как только его пометили на удаление как отправитель, так и получатель. В противном случае сообщение будет просто скрыто для отображения пользователю. По умолчанию равно `true`.
2. `outgoingPageSize`. Количество сообщений, выбираемых из базы при отображении страницы с исходящими сообщениями. По умолчанию 10.
3. `incomingPageSize`. Количество сообщений, выбираемых из базы при отображении страницы с входящими сообщениями. По умолчанию 10.
